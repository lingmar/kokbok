#!/usr/bin/env python3

import os, os.path
import sys
sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__),'..')))

import MySQLdb

from kokbok import conf
from kokbok import model

def main():
    ingredient = model.Ingredient("Test", 1, 1, 1, 1, 1, 1, 1)
    ingredient.save()
    print(ingredient._id)

    recipe = model.Recipe("TestRecipe", 1, 1, 1, 1, 1, 1, 1, 1,1, 1)
    recipe.save()
    print(recipe._id)

    ingredient_list = model.IngredientList([ingredient], "hej")
    ingredient_list.save()
    print(ingredient_list._id)
    print(ingredient_list)

    # with MySQLdb.connect(**conf.db) as cursor:
    #     with open('kokbok.sql') as x:
    #         for line in x.read().split(';\n'):
    #             if len(line.strip()) > 0 :
    #                 cursor.execute(line)

    #     cursor.execute("Select * from Recipe")
    #     cursor.execute("Select * from Recipe")
    #     cursor.execute("Select * from Recipe")
    #     print(cursor.fetchall())

if __name__ == '__main__':
    main()
